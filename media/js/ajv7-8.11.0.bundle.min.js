!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ajv7=e()}(function(){return function a(o,s,n){function i(t,e){if(!s[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=s[t]={exports:{}},o[t][0].call(r.exports,function(e){return i(o[t][1][e]||e)},r,r.exports,a,o,s,n)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<n.length;e++)i(n[e]);return i}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends a{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=o;class s extends a{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(1<this._items.length)return!1;var e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof o&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function n(e,...t){const r=[e[0]];let a=0;for(;a<t.length;)l(r,t[a]),r.push(e[++a]);return new s(r)}r._Code=s,r.nil=new s(""),r._=n;const i=new s("+");function c(e,...t){const r=[d(e[0])];let a=0;for(;a<t.length;)r.push(i),l(r,t[a]),r.push(i,d(e[++a]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===i){var r=function(e,t){return'""'===t?e:'""'===e?t:"string"!=typeof e?"string"!=typeof t||'"'!==t[0]||e instanceof o?void 0:`"${e}${t.slice(1)}`:t instanceof o||'"'!==e[e.length-1]?void 0:"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new s(r)}function l(e,t){t instanceof s?e.push(...t._items):t instanceof o?e.push(t):e.push("number"==typeof(t=t)||"boolean"==typeof t||null===t?t:d(Array.isArray(t)?t.join(","):t))}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=c,r.addCodeArg=l,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:c`${e}${t}`},r.stringify=function(e){return new s(d(e))},r.safeStringify=d,r.getProperty=function(e){return"string"==typeof e&&r.IDENTIFIER.test(e)?new s(`.${e}`):n`[${e}]`},r.getEsmExportName=function(e){if("string"==typeof e&&r.IDENTIFIER.test(e))return new s(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new s(e.toString())}},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const n=e("./code"),i=e("./scope");var a=e("./code");Object.defineProperty(r,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return a.Name}});var o=e("./scope");Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),r.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends s{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){var r=e?i.varKinds.var:this.varKind,e=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${e};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class l extends s{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=x(this.rhs,e,t),this}get names(){return O(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class d extends l{constructor(e,t,r,a){super(e,r,a),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class f extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class m extends s{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=x(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class h extends s{constructor(e=[]){super(),this.nodes=e}render(r){return this.nodes.reduce((e,t)=>e+t.render(r),"")}optimizeNodes(){const e=this["nodes"];let t=e.length;for(;t--;){var r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return 0<e.length?this:void 0}optimizeNames(e,t){const r=this["nodes"];let a=r.length;for(;a--;){const o=r[a];o.optimizeNames(e,t)||(function(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}(e,o.names),r.splice(a,1))}return 0<r.length?this:void 0}get names(){return this.nodes.reduce((e,t)=>C(e,t.names),{})}}class y extends h{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends h{}class g extends y{}g.kind="else";class $ extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();var e,t=this.condition;if(!0===t)return this.nodes;let r=this.else;return r&&(e=r.optimizeNodes(),r=this.else=Array.isArray(e)?new g(e):e),r?!1===t?r instanceof $?r:r.nodes:this.nodes.length?this:new $(T(t),r instanceof $?[r]:r.nodes):!1!==t&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=x(this.condition,e,t),this}get names(){var e=super.names;return O(e,this.condition),this.else&&C(e,this.else.names),e}}$.kind="if";class _ extends y{}_.kind="for";class w extends _{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=x(this.iteration,e,t),this}get names(){return C(super.names,this.iteration.names)}}class b extends _{constructor(e,t,r,a){super(),this.varKind=e,this.name=t,this.from=r,this.to=a}render(e){var{name:t,from:r,to:a}=this;return`for(${e.es5?i.varKinds.var:this.varKind} ${t}=${r}; ${t}<${a}; ${t}++)`+super.render(e)}get names(){var e=O(super.names,this.from);return O(e,this.to)}}class E extends _{constructor(e,t,r,a){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=a}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=x(this.iterable,e,t),this}get names(){return C(super.names,this.iterable.names)}}class P extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}P.kind="func";class S extends h{render(e){return"return "+super.render(e)}}S.kind="return";class N extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e;return super.optimizeNodes(),null!==(e=this.catch)&&void 0!==e&&e.optimizeNodes(),null!==(e=this.finally)&&void 0!==e&&e.optimizeNodes(),this}optimizeNames(e,t){var r;return super.optimizeNames(e,t),null!==(r=this.catch)&&void 0!==r&&r.optimizeNames(e,t),null!==(r=this.finally)&&void 0!==r&&r.optimizeNames(e,t),this}get names(){var e=super.names;return this.catch&&C(e,this.catch.names),this.finally&&C(e,this.finally.names),e}}class k extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind="catch";class j extends y{render(e){return"finally"+super.render(e)}}j.kind="finally";function C(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function O(e,t){return t instanceof n._CodeOrName?C(e,t.names):e}function x(e,r,a){return e instanceof n.Name?o(e):(t=e)instanceof n._Code&&t._items.some(e=>e instanceof n.Name&&1===r[e.str]&&void 0!==a[e.str])?new n._Code(e._items.reduce((e,t)=>((t=t instanceof n.Name?o(t):t)instanceof n._Code?e.push(...t._items):e.push(t),e),[])):e;var t;function o(e){var t=a[e.str];return void 0===t||1!==r[e.str]?e:(delete r[e.str],t)}}function T(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,n._)`!${A(e)}`}r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){t=this._extScope.value(e,t);const r=this._values[t.prefix]||(this._values[t.prefix]=new Set);return r.add(t),t}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,a){t=this._scope.toName(t);return void 0!==r&&a&&(this._constants[t.str]=r),this._leafNode(new c(e,t,r)),t}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new l(e,t,r))}add(e,t){return this._leafNode(new d(e,r.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new m(e)),this}object(...e){const t=["{"];for(var[r,a]of e)1<t.length&&t.push(","),t.push(r),r===a&&!this.opts.es5||(t.push(":"),(0,n.addCodeArg)(t,a));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new $(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new $(e))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode($,g)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,a,o=this.opts.es5?i.varKinds.var:i.varKinds.let){const s=this._scope.toName(e);return this._for(new b(o,s,t,r),()=>a(s))}forOf(e,t,r,a=i.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const s=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,n._)`${s}.length`,e=>{this.var(o,(0,n._)`${s}[${e}]`),r(o)})}return this._for(new E("of",a,o,t),()=>r(o))}forIn(e,t,r,a=this.opts.es5?i.varKinds.var:i.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,n._)`Object.keys(${t})`,r);const o=this._scope.toName(e);return this._for(new E("in",a,o,t),()=>r(o))}endFor(){return this._endBlockNode(_)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new p(e))}return(e){var t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const a=new N;return this._blockNode(a),this.code(e),t&&(e=this.name("e"),this._currNode=a.catch=new k(e),t(e)),r&&(this._currNode=a.finally=new j,this.code(r)),this._endBlockNode(k,j)}throw(e){return this._leafNode(new f(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,a){return this._blockNode(new P(e,t,r)),a&&this.code(a).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(e=1){for(;0<e--;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){var r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof $))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){var e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},r.not=T;const I=D(r.operators.AND);r.and=function(...e){return e.reduce(I)};const R=D(r.operators.OR);function D(r){return(e,t)=>e===n.nil?t:t===n.nil?e:(0,n._)`${A(e)} ${r} ${A(t)}`}function A(e){return e instanceof n.Name?e:(0,n._)`(${e})`}r.or=function(...e){return e.reduce(R)}},{"./code":1,"./scope":3}],3:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ValueScope=c.ValueScopeName=c.Scope=c.varKinds=c.UsedValueState=void 0;const l=e("./code");class d extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var u;(e=u=c.UsedValueState||(c.UsedValueState={}))[e.Started=0]="Started",e[e.Completed=1]="Completed",c.varKinds={const:new l.Name("const"),let:new l.Name("let"),var:new l.Name("var")};class r{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof l.Name?e:this.name(e)}name(e){return new l.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t;if(null!==(t=null===(t=this._parent)||void 0===t?void 0:t._prefixes)&&void 0!==t&&t.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}c.Scope=r;class a extends l.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,l._)`.${new l.Name(t)}[${r}]`}}c.ValueScopeName=a;const o=(0,l._)`\n`;c.ValueScope=class extends r{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?o:l.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e);var a=r["prefix"],e=null!==(s=t.key)&&void 0!==s?s:t.ref;let o=this._values[a];if(o){var s=o.get(e);if(s)return s}else o=this._values[a]=new Map;o.set(e,r);const n=this._scope[a]||(this._scope[a]=[]);e=n.length;return n[e]=t.ref,r.setValue(t,{property:a,itemIndex:e}),r}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(t,e=this._values){return this._reduceValues(e,e=>{if(void 0===e.scopePath)throw new Error(`CodeGen: name "${e}" has no value`);return(0,l._)`${t}${e.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,a,t={},o){let s=l.nil;for(const r in e){const n=e[r];if(n){const i=t[r]=t[r]||new Map;n.forEach(t=>{if(!i.has(t)){i.set(t,u.Started);let e=a(t);if(e){var r=this.opts.es5?c.varKinds.var:c.varKinds.const;s=(0,l._)`${s}${r} ${t} = ${e};${this.opts._n}`}else{if(!(e=null==o?void 0:o(t)))throw new d(t);s=(0,l._)`${s}${e}${this.opts._n}`}i.set(t,u.Completed)}})}}return s}}},{"./code":1}],4:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extendErrors=c.resetErrorsCount=c.reportExtraError=c.reportError=c.keyword$DataError=c.keywordError=void 0;const u=e("./codegen"),n=e("./util"),p=e("./names");function l(e,t){const r=e.const("err",t);e.if((0,u._)`${p.default.vErrors} === null`,()=>e.assign(p.default.vErrors,(0,u._)`[${r}]`),(0,u._)`${p.default.vErrors}.push(${r})`),e.code((0,u._)`${p.default.errors}++`)}function d(e,t){const{gen:r,validateName:a,schemaEnv:o}=e;o.$async?r.throw((0,u._)`new ${e.ValidationError}(${t})`):(r.assign((0,u._)`${a}.errors`,t),r.return(!1))}c.keywordError={message:({keyword:e})=>(0,u.str)`must pass "${e}" keyword validation`},c.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,u.str)`"${e}" keyword must be ${t} ($data)`:(0,u.str)`"${e}" keyword is invalid ($data)`},c.reportError=function(e,t=c.keywordError,r,a){var o=e["it"],{gen:s,compositeRule:n,allErrors:i}=o,r=m(e,t,r);(null!=a?a:n||i)?l(s,r):d(o,(0,u._)`[${r}]`)},c.reportExtraError=function(e,t=c.keywordError,r){var a=e["it"],{gen:o,compositeRule:s,allErrors:n}=a;l(o,m(e,t,r)),s||n||d(a,p.default.vErrors)},c.resetErrorsCount=function(e,t){e.assign(p.default.errors,t),e.if((0,u._)`${p.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,u._)`${p.default.vErrors}.length`,t),()=>e.assign(p.default.vErrors,null)))},c.extendErrors=function({gen:t,keyword:r,schemaValue:a,data:o,errsCount:e,it:s}){if(void 0===e)throw new Error("ajv implementation error");const n=t.name("err");t.forRange("i",e,p.default.errors,e=>{t.const(n,(0,u._)`${p.default.vErrors}[${e}]`),t.if((0,u._)`${n}.instancePath === undefined`,()=>t.assign((0,u._)`${n}.instancePath`,(0,u.strConcat)(p.default.instancePath,s.errorPath))),t.assign((0,u._)`${n}.schemaPath`,(0,u.str)`${s.errSchemaPath}/${r}`),s.opts.verbose&&(t.assign((0,u._)`${n}.schema`,a),t.assign((0,u._)`${n}.data`,o))})};const f={keyword:new u.Name("keyword"),schemaPath:new u.Name("schemaPath"),params:new u.Name("params"),propertyName:new u.Name("propertyName"),message:new u.Name("message"),schema:new u.Name("schema"),parentSchema:new u.Name("parentSchema")};function m(e,t,r){var a=e.it["createErrors"];return!1===a?(0,u._)`{}`:function(e,t,r={}){const{gen:a,it:o}=e,s=[function({errorPath:e},{instancePath:t}){e=t?(0,u.str)`${e}${(0,n.getErrorPath)(t,n.Type.Str)}`:e;return[p.default.instancePath,(0,u.strConcat)(p.default.instancePath,e)]}(o,r),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let o=a?t:(0,u.str)`${t}/${e}`;r&&(o=(0,u.str)`${o}${(0,n.getErrorPath)(r,n.Type.Str)}`);return[f.schemaPath,o]}(e,r)];return function(e,{params:t,message:r},a){var{keyword:o,data:s,schemaValue:n,it:i}=e,{opts:c,propertyName:l,topSchemaRef:d,schemaPath:i}=i;a.push([f.keyword,o],[f.params,"function"==typeof t?t(e):t||(0,u._)`{}`]),c.messages&&a.push([f.message,"function"==typeof r?r(e):r]);c.verbose&&a.push([f.schema,n],[f.parentSchema,(0,u._)`${d}${i}`],[p.default.data,s]);l&&a.push([f.propertyName,l])}(e,t,s),a.object(...s)}(e,t,r)}},{"./codegen":2,"./names":6,"./util":10}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const f=e("./codegen"),m=e("../runtime/validation_error"),h=e("./names"),y=e("./resolve"),c=e("./util"),v=e("./validate");class l{constructor(e){var t;this.refs={},this.dynamicAnchors={};let r;"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,y.normalizeId)(null===r||void 0===r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===r||void 0===r?void 0:r.$async,this.refs={}}}function i(t){var e=g.call(this,t);if(e)return e;var r=(0,y.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:a,lines:o}=this.opts.code,e=this.opts["ownProperties"];const s=new f.CodeGen(this.scope,{es5:a,lines:o,ownProperties:e});let n;t.$async&&(n=s.scopeValue("Error",{ref:m.default,code:(0,f._)`require("ajv/dist/runtime/validation_error").default`}));e=s.scopeName("validate");t.validateName=e;r={gen:s,allErrors:this.opts.allErrors,data:h.default.data,parentData:h.default.parentData,parentDataProperty:h.default.parentDataProperty,dataNames:[h.default.data],dataPathArr:[f.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:(0,f.stringify)(t.schema)}:{ref:t.schema}),validateName:e,ValidationError:n,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:f.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,f._)`""`,opts:this.opts,self:this};let i;try{this._compilations.add(t),(0,v.validateFunctionCode)(r),s.optimize(this.opts.code.optimize);var c,l,d=s.toString();i=`${s.scopeRefs(h.default.scope)}return ${d}`,this.opts.code.process&&(i=this.opts.code.process(i,t));const u=new Function(`${h.default.self}`,`${h.default.scope}`,i),p=u(this,this.scope.get());return this.scope.value(e,{ref:p}),p.errors=null,p.schema=t.schema,(p.schemaEnv=t).$async&&(p.$async=!0),!0===this.opts.code.source&&(p.source={validateName:e,validateCode:d,scopeValues:s._values}),this.opts.unevaluated&&({props:c,items:l}=r,p.evaluated={props:c instanceof f.Name?void 0:c,items:l instanceof f.Name?void 0:l,dynamicProps:c instanceof f.Name,dynamicItems:l instanceof f.Name},p.source&&(p.source.evaluated=(0,f.stringify)(p.evaluated))),t.validate=p,t}catch(e){throw delete t.validate,delete t.validateName,i&&this.logger.error("Error compiling schema, function code:",i),e}finally{this._compilations.delete(t)}}function g(e){for(const a of this._compilations)if(t=a,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return a;var t,r}function d(e,t){var r=this.opts.uriResolver.parse(t),a=(0,y._getFullPath)(this.opts.uriResolver,r);let o=(0,y.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(0<Object.keys(e.schema).length&&a===o)return p.call(this,r,e);var s=(0,y.normalizeId)(a),n=this.refs[s]||this.schemas[s];if("string"==typeof n){a=d.call(this,e,n);return"object"!=typeof(null==a?void 0:a.schema)?void 0:p.call(this,r,a)}if("object"==typeof(null==n?void 0:n.schema)){if(n.validate||i.call(this,n),s!==(0,y.normalizeId)(t))return p.call(this,r,n);var t=n["schema"],r=this.opts["schemaId"],n=t[r];return n&&(o=(0,y.resolveUrl)(this.opts.uriResolver,o,n)),new l({schema:t,schemaId:r,root:e,baseId:o})}}r.SchemaEnv=l,r.compileSchema=i,r.resolveRef=function(e,t,r){r=(0,y.resolveUrl)(this.opts.uriResolver,t,r);var a,o=e.refs[r];if(o)return o;let s=function(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||d.call(this,e,t)}.call(this,e,r);return void 0===s&&(o=null===(a=e.localRefs)||void 0===a?void 0:a[r],a=this.opts["schemaId"],o&&(s=new l({schema:o,schemaId:a,root:e,baseId:t}))),void 0!==s?e.refs[r]=function(e){return(0,y.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:i.call(this,e)}.call(this,s):void 0},r.getCompilingSchema=g,r.resolveSchema=d;const u=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function p(t,{baseId:r,schema:a,root:o}){var e;if("/"===(null===(e=t.fragment)||void 0===e?void 0:e[0])){for(const i of t.fragment.slice(1).split("/")){if("boolean"==typeof a)return;var s=a[(0,c.unescapeFragment)(i)];if(void 0===s)return;s="object"==typeof(a=s)&&a[this.opts.schemaId];!u.has(i)&&s&&(r=(0,y.resolveUrl)(this.opts.uriResolver,r,s))}let e;"boolean"!=typeof a&&a.$ref&&!(0,c.schemaHasRulesButRef)(a,this.RULES)&&(n=(0,y.resolveUrl)(this.opts.uriResolver,r,a.$ref),e=d.call(this,o,n));var n=this.opts["schemaId"];return e=e||new l({schema:a,schemaId:n,root:o,baseId:r}),e.schema!==e.root.schema?e:void 0}}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./codegen");e={data:new a.Name("data"),valCxt:new a.Name("valCxt"),instancePath:new a.Name("instancePath"),parentData:new a.Name("parentData"),parentDataProperty:new a.Name("parentDataProperty"),rootData:new a.Name("rootData"),dynamicAnchors:new a.Name("dynamicAnchors"),vErrors:new a.Name("vErrors"),errors:new a.Name("errors"),this:new a.Name("this"),self:new a.Name("self"),scope:new a.Name("scope"),json:new a.Name("json"),jsonPos:new a.Name("jsonPos"),jsonLen:new a.Name("jsonLen"),jsonPart:new a.Name("jsonPart")};r.default=e},{"./codegen":2}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("./resolve");class a extends Error{constructor(e,t,r,a){super(a||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,o.resolveUrl)(e,t,r),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(e,this.missingRef))}}r.default=a},{"./resolve":8}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const o=e("./util"),a=e("fast-deep-equal"),s=e("json-schema-traverse"),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&function t(e){let r=0;for(const a in e){if("$ref"===a)return 1/0;if(r++,!n.has(a)&&("object"==typeof e[a]&&(0,o.eachItem)(e[a],e=>r+=t(e)),r===1/0))return 1/0}return r}(e)<=t)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(i.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function h(e,t="",r){!1!==r&&(t=y(t));t=e.parse(t);return l(e,t)}function l(e,t){const r=e.serialize(t);return r.split("#")[0]+"#"}r.getFullPath=h,r._getFullPath=l;const d=/#\/?$/;function y(e){return e?e.replace(d,""):""}r.normalizeId=y,r.resolveUrl=function(e,t,r){return r=y(r),e.resolve(t,r)};const v=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:c,uriResolver:r}=this.opts,l={"":t=y(e[c]||t)},d=h(r,t,!1),u={},p=new Set;return s(e,{allKeys:!0},(o,e,t,r)=>{if(void 0!==r){const i=d+e;let a=l[r];function s(e){const t=this.opts.uriResolver.resolve;if(e=y(a?t(a,e):e),p.has(e))throw m(e);p.add(e);let r=this.refs[e];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?f(o,r.schema,e):e!==y(i)&&("#"===e[0]?(f(o,u[e],e),u[e]=o):this.refs[e]=i),e}function n(e){if("string"==typeof e){if(!v.test(e))throw new Error(`invalid anchor "${e}"`);s.call(this,`#${e}`)}}"string"==typeof o[c]&&(a=s.call(this,o[c])),n.call(this,o.$anchor),n.call(this,o.$dynamicAnchor),l[e]=a}}),u;function f(e,t,r){if(void 0!==t&&!a(e,t))throw m(r)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function(e){return"string"==typeof e&&a.has(e)},r.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const c=e("./codegen"),a=e("./codegen/code");function o(e,t=e.schema){var{opts:r,self:a}=e;if(r.strictSchema&&"boolean"!=typeof t){var o=a.RULES.keywords;for(const s in t)o[s]||m(e,`unknown keyword: "${s}"`)}}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function n(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l({mergeNames:o,mergeToName:s,mergeValues:n,resultToName:i}){return(e,t,r,a)=>{r=void 0===r?t:r instanceof c.Name?((t instanceof c.Name?o:s)(e,t,r),r):t instanceof c.Name?(s(e,r,t),t):n(t,r);return a!==c.Name||r instanceof c.Name?r:i(e,r)}}function d(e,t){if(!0===t)return e.var("props",!0);var r=e.var("props",(0,c._)`{}`);return void 0!==t&&u(e,r,t),r}function u(t,r,e){Object.keys(e).forEach(e=>t.assign((0,c._)`${r}${(0,c.getProperty)(e)}`,!0))}r.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},r.checkUnknownRules=o,r.schemaHasRules=s,r.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,c._)`${r}`}return(0,c._)`${e}${t}${(0,c.getProperty)(a)}`},r.unescapeFragment=function(e){return i(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(n(e))},r.escapeJsonPointer=n,r.unescapeJsonPointer=i,r.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},r.mergeEvaluated={props:l({mergeNames:(e,t,r)=>e.if((0,c._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,c._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,c._)`${r} || {}`).code((0,c._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,c._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,c._)`${r} || {}`),u(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:l({mergeNames:(e,t,r)=>e.if((0,c._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,c._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,c._)`${r} !== true`,()=>e.assign(r,!0===t||(0,c._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},r.evaluatedPropsToName=d,r.setEvaluated=u;const p={};var f;function m(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:p[t.code]||(p[t.code]=new a._Code(t.code))})},(e=f=r.Type||(r.Type={}))[e.Num=0]="Num",e[e.Str=1]="Str",r.getErrorPath=function(e,t,r){if(e instanceof c.Name){t=t===f.Num;return r?t?(0,c._)`"[" + ${e} + "]"`:(0,c._)`"['" + ${e} + "']"`:t?(0,c._)`"/" + ${e}`:(0,c._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,c.getProperty)(e).toString():"/"+n(e)},r.checkStrictMode=m},{"./codegen":2,"./codegen/code":1}],11:[function(e,t,r){"use strict";function a(t,e){return e.rules.some(e=>o(t,e))}function o(t,e){return void 0!==t[e.keyword]||(null===(e=e.definition.implements)||void 0===e?void 0:e.some(e=>void 0!==t[e]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){return(r=t.RULES.types[r])&&!0!==r&&a(e,r)},r.shouldUseGroup=a,r.shouldUseRule=o},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const o=e("../errors"),s=e("../codegen"),n=e("../names"),i={message:"boolean schema is false"};function c(e,t){var{gen:r,data:a}=e,e={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,o.reportError)(e,i,void 0,t)}r.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:a}=e;!1===r?c(e,!1):"object"==typeof r&&!0===r.$async?t.return(n.default.data):(t.assign((0,s._)`${a}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){const{gen:r,schema:a}=e;!1===a?(r.var(t,!1),c(e)):r.var(t,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const a=e("../rules"),l=e("./applicability"),o=e("../errors"),d=e("../codegen"),i=e("../util");var u;function s(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(a.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}(e=u=r.DataType||(r.DataType={}))[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong",r.getSchemaTypes=function(e){const t=s(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},r.getJSONTypes=s,r.coerceAndCheckDataType=function(e,t){const{gen:r,data:a,opts:o}=e,s=(i=t,(n=o.coerceTypes)?i.filter(e=>p.has(e)||"array"===n&&"array"===e):[]);var n,i,c=0<t.length&&!(0===s.length&&1===t.length&&(0,l.schemaHasRulesForType)(e,t[0]));return c&&(i=f(t,a,o.strictNumbers,u.Wrong),r.if(i,()=>{s.length?function(o,e,t){const{gen:s,data:n,opts:r}=o,a=s.let("dataType",(0,d._)`typeof ${n}`),i=s.let("coerced",(0,d._)`undefined`);"array"===r.coerceTypes&&s.if((0,d._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>s.assign(n,(0,d._)`${n}[0]`).assign(a,(0,d._)`typeof ${n}`).if(f(e,n,r.strictNumbers),()=>s.assign(i,n)));s.if((0,d._)`${i} !== undefined`);for(const c of t)(p.has(c)||"array"===c&&"array"===r.coerceTypes)&&function(e){switch(e){case"string":return s.elseIf((0,d._)`${a} == "number" || ${a} == "boolean"`).assign(i,(0,d._)`"" + ${n}`).elseIf((0,d._)`${n} === null`).assign(i,(0,d._)`""`);case"number":return s.elseIf((0,d._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(i,(0,d._)`+${n}`);case"integer":return s.elseIf((0,d._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(i,(0,d._)`+${n}`);case"boolean":return s.elseIf((0,d._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(i,!1).elseIf((0,d._)`${n} === "true" || ${n} === 1`).assign(i,!0);case"null":return s.elseIf((0,d._)`${n} === "" || ${n} === 0 || ${n} === false`),s.assign(i,null);case"array":s.elseIf((0,d._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(i,(0,d._)`[${n}]`)}}(c);s.else(),m(o),s.endIf(),s.if((0,d._)`${i} !== undefined`,()=>{var e,t,r,a;s.assign(n,i),[{gen:e,parentData:t,parentDataProperty:r},a]=[o,i],e.if((0,d._)`${t} !== undefined`,()=>e.assign((0,d._)`${t}[${r}]`,a))})}(e,t,s):m(e)})),c};const p=new Set(["string","number","integer","boolean","null"]);function c(e,t,r,a=u.Correct){var o=a===u.Correct?d.operators.EQ:d.operators.NEQ;let s;switch(e){case"null":return(0,d._)`${t} ${o} null`;case"array":s=(0,d._)`Array.isArray(${t})`;break;case"object":s=(0,d._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=n((0,d._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=n();break;default:return(0,d._)`typeof ${t} ${o} ${e}`}return a===u.Correct?s:(0,d.not)(s);function n(e=d.nil){return(0,d.and)((0,d._)`typeof ${t} == "number"`,e,r?(0,d._)`isFinite(${t})`:d.nil)}}function f(e,t,r,a){if(1===e.length)return c(e[0],t,r,a);let o;const s=(0,i.toHash)(e);s.array&&s.object?(e=(0,d._)`typeof ${t} != "object"`,o=s.null?e:(0,d._)`!${t} || ${e}`,delete s.null,delete s.array,delete s.object):o=d.nil,s.number&&delete s.integer;for(const n in s)o=(0,d.and)(o,c(n,t,r,a));return o}r.checkDataType=c,r.checkDataTypes=f;const n={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,d._)`{type: ${e}}`:(0,d._)`{type: ${t}}`};function m(e){e=function(e){var{gen:t,data:r,schema:a}=e,o=(0,i.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:o,schemaValue:o,parentSchema:a,params:{},it:e}}(e);(0,o.reportError)(e,n)}r.reportTypeError=m},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const i=e("../codegen"),c=e("../util");function s(e,t,r){const{gen:a,compositeRule:o,data:s,opts:n}=e;if(void 0!==r){t=(0,i._)`${s}${(0,i.getProperty)(t)}`;if(o)(0,c.checkStrictMode)(e,`default is ignored for: ${t}`);else{let e=(0,i._)`${t} === undefined`;"empty"===n.useDefaults&&(e=(0,i._)`${e} || ${t} === null || ${t} === ""`),a.if(e,(0,i._)`${t} = ${(0,i.stringify)(r)}`)}}}r.assignDefaults=function(r,e){const{properties:t,items:a}=r.schema;if("object"===e&&t)for(const o in t)s(r,o,t[o].default);else"array"===e&&Array.isArray(a)&&a.forEach((e,t)=>s(r,t,e.default))}},{"../codegen":2,"../util":10}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const a=e("./boolSchema"),o=e("./dataType"),m=e("./applicability"),h=e("./dataType"),s=e("./defaults"),n=e("./keyword"),i=e("./subschema"),y=e("../codegen"),v=e("../names"),c=e("../resolve"),g=e("../util"),l=e("../errors");function d({gen:r,validateName:e,schema:a,schemaEnv:t,opts:o},s){o.code.es5?r.func(e,(0,y._)`${v.default.data}, ${v.default.valCxt}`,t.$async,()=>{var e,t;r.code((0,y._)`"use strict"; ${u(a,o)}`),t=o,(e=r).if(v.default.valCxt,()=>{e.var(v.default.instancePath,(0,y._)`${v.default.valCxt}.${v.default.instancePath}`),e.var(v.default.parentData,(0,y._)`${v.default.valCxt}.${v.default.parentData}`),e.var(v.default.parentDataProperty,(0,y._)`${v.default.valCxt}.${v.default.parentDataProperty}`),e.var(v.default.rootData,(0,y._)`${v.default.valCxt}.${v.default.rootData}`),t.dynamicRef&&e.var(v.default.dynamicAnchors,(0,y._)`${v.default.valCxt}.${v.default.dynamicAnchors}`)},()=>{e.var(v.default.instancePath,(0,y._)`""`),e.var(v.default.parentData,(0,y._)`undefined`),e.var(v.default.parentDataProperty,(0,y._)`undefined`),e.var(v.default.rootData,v.default.data),t.dynamicRef&&e.var(v.default.dynamicAnchors,(0,y._)`{}`)}),r.code(s)}):r.func(e,(0,y._)`${v.default.data}, ${e=o,(0,y._)`{${v.default.instancePath}="", ${v.default.parentData}, ${v.default.parentDataProperty}, ${v.default.rootData}=${v.default.data}${e.dynamicRef?(0,y._)`, ${v.default.dynamicAnchors}={}`:y.nil}}={}`}`,t.$async,()=>r.code(u(a,o)).code(s))}function u(e,t){e="object"==typeof e&&e[t.schemaId];return e&&(t.code.source||t.code.process)?(0,y._)`/*# sourceURL=${e} */`:y.nil}function p(e,t){($(e)&&(_(e),f(e))?function(e,t){const{schema:r,gen:a,opts:o}=e;o.$comment&&r.$comment&&b(e);(function(e){var t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,c.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);var s=a.const("_errs",v.default.errors);w(e,s),a.var(t,(0,y._)`${s} === ${v.default.errors}`)}:(0,a.boolOrEmptySchema))(e,t)}function f({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return 1}function $(e){return"boolean"!=typeof e.schema}function _(e){(0,g.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:a,self:o}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function w(e,t){if(e.opts.jtd)return E(e,[],!1,t),0;var r=(0,o.getSchemaTypes)(e.schema);E(e,r,!(0,o.coerceAndCheckDataType)(e,r),t)}function b({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:o}){r=r.$comment;!0===o.$comment?e.code((0,y._)`${v.default.self}.logger.log(${r})`):"function"==typeof o.$comment&&(a=(0,y.str)`${a}/$comment`,t=e.scopeValue("root",{ref:t.root}),e.code((0,y._)`${v.default.self}.opts.$comment(${r}, ${a}, ${t}.schema)`))}function E(t,r,a,o){const{gen:s,schema:n,data:i,allErrors:c,opts:l,self:e}=t,d=e["RULES"];var u,p;function f(e){(0,m.shouldUseGroup)(n,e)&&(e.type?(s.if((0,h.checkDataType)(e.type,i,l.strictNumbers)),P(t,e),1===r.length&&r[0]===e.type&&a&&(s.else(),(0,h.reportTypeError)(t)),s.endIf()):P(t,e),c||s.if((0,y._)`${v.default.errors} === ${o||0}`))}!n.$ref||!l.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(n,d)?(l.jtd||(p=r,!(u=t).schemaEnv.meta&&u.opts.strictTypes&&(function(t,r){r.length&&(t.dataTypes.length?(r.forEach(e=>{S(t.dataTypes,e)||N(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(e=>S(r,e))):t.dataTypes=r)}(u,p),u.opts.allowUnionTypes||function(e,t){1<t.length&&(2!==t.length||!t.includes("null"))&&N(e,"use allowUnionTypes to allow union type keyword")}(u,p),function(e,t){var r=e.self.RULES.all;for(const o in r){var a=r[o];if("object"==typeof a&&(0,m.shouldUseRule)(e.schema,a)){const s=a.definition["type"];s.length&&!s.some(e=>function(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}(t,e))&&N(e,`missing type "${s.join(",")}" for keyword "${o}"`)}}}(u,u.dataTypes))),s.block(()=>{for(const e of d.rules)f(e);f(d.post)})):s.block(()=>j(t,"$ref",d.all.$ref.definition))}function P(t,r){const{gen:e,schema:a,opts:{useDefaults:o}}=t;o&&(0,s.assignDefaults)(t,r.type),e.block(()=>{for(const e of r.rules)(0,m.shouldUseRule)(a,e)&&j(t,e.keyword,e.definition,r.type)})}function S(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function N(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,g.checkStrictMode)(e,t,e.opts.strictTypes)}r.validateFunctionCode=function(e){$(e)&&(_(e),f(e))?function(e){const{schema:t,opts:r,gen:a}=e;d(e,()=>{r.$comment&&t.$comment&&b(e),function(e){var{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,g.checkStrictMode)(e,"default is ignored in the schema root")}(e),a.let(v.default.vErrors,null),a.let(v.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,y._)`${r}.evaluated`),t.if((0,y._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,y._)`${e.evaluated}.props`,(0,y._)`undefined`)),t.if((0,y._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,y._)`${e.evaluated}.items`,(0,y._)`undefined`))}(e),w(e),function(e){const{gen:t,schemaEnv:r,validateName:a,ValidationError:o,opts:s}=e;r.$async?t.if((0,y._)`${v.default.errors} === 0`,()=>t.return(v.default.data),()=>t.throw((0,y._)`new ${o}(${v.default.vErrors})`)):(t.assign((0,y._)`${a}.errors`,v.default.vErrors),s.unevaluated&&function({gen:e,evaluated:t,props:r,items:a}){r instanceof y.Name&&e.assign((0,y._)`${t}.props`,r);a instanceof y.Name&&e.assign((0,y._)`${t}.items`,a)}(e),t.return((0,y._)`${v.default.errors} === 0`))}(e)})}(e):d(e,()=>(0,a.topBoolOrEmptySchema)(e))};class k{constructor(e,t,r){if((0,n.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",x(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",v.default.errors))}result(e,t,r){this.failResult((0,y.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,y.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);var t=this["schemaCode"];this.fail((0,y._)`${t} !== undefined && (${(0,y.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?l.reportExtraError:l.reportError)(this,this.def.error,t)}$dataError(){(0,l.reportError)(this,this.def.$dataError||l.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,l.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=y.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=y.nil,t=y.nil){if(this.$data){const{gen:r,schemaCode:a,schemaType:o,def:s}=this;r.if((0,y.or)((0,y._)`${a} === undefined`,t)),e!==y.nil&&r.assign(e,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==y.nil&&r.assign(e,!1)),r.else()}}invalid$data(){const{gen:t,schemaCode:r,schemaType:a,def:o,it:s}=this;return(0,y.or)(function(){if(a.length){if(!(r instanceof y.Name))throw new Error("ajv implementation error");var e=Array.isArray(a)?a:[a];return(0,y._)`${(0,h.checkDataTypes)(e,r,s.opts.strictNumbers,h.DataType.Wrong)}`}return y.nil}(),function(){if(o.validateSchema){var e=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,y._)`!${e}(${r})`}return y.nil}())}subschema(e,t){var r=(0,i.getSubschema)(this.it,e);(0,i.extendSubschemaData)(r,this.it,e),(0,i.extendSubschemaMode)(r,e);r={...this.it,...r,items:void 0,props:void 0};return p(r,t),r}mergeEvaluated(e,t){const{it:r,gen:a}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=g.mergeEvaluated.props(a,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=g.mergeEvaluated.items(a,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:a}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return a.if(t,()=>this.mergeEvaluated(e,y.Name)),!0}}function j(e,t,r,a){t=new k(e,r,t);"code"in r?r.code(t,a):t.$data&&r.validate?(0,n.funcKeywordCode)(t,r):"macro"in r?(0,n.macroKeywordCode)(t,r):(r.compile||r.validate)&&(0,n.funcKeywordCode)(t,r)}r.KeywordCxt=k;const C=/^\/(?:[^~]|~0|~1)*$/,O=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function x(e,{dataLevel:r,dataNames:t,dataPathArr:a}){let o,s;if(""===e)return v.default.rootData;if("/"===e[0]){if(!C.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,s=v.default.rootData}else{var n=O.exec(e);if(!n)throw new Error(`Invalid JSON-pointer: ${e}`);e=+n[1];if(o=n[2],"#"===o){if(r<=e)throw new Error(c("property/index",e));return a[r-e]}if(r<e)throw new Error(c("data",e));if(s=t[r-e],!o)return s}let i=s;for(const l of o.split("/"))l&&(s=(0,y._)`${s}${(0,y.getProperty)((0,g.unescapeJsonPointer)(l))}`,i=(0,y._)`${i} && ${s}`);return i;function c(e,t){return`Cannot access ${e} ${t} levels up, current level is ${r}`}}r.getData=x},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const f=e("../codegen"),m=e("../names"),h=e("../../vocabularies/code"),y=e("../errors");function v(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,f._)`${a.parentData}[${a.parentDataProperty}]`))}function g(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,f.stringify)(r)})}r.macroKeywordCode=function(e,t){const{gen:r,keyword:a,schema:o,parentSchema:s,it:n}=e;var i=t.macro.call(n.self,o,s,n),c=g(r,a,i);!1!==n.opts.validateSchema&&n.self.validateSchema(i,!0),t=r.name("valid"),e.subschema({schema:i,schemaPath:f.nil,errSchemaPath:`${n.errSchemaPath}/${a}`,topSchemaRef:c,compositeRule:!0},t),e.pass(t,()=>e.error(!0))},r.funcKeywordCode=function(a,o){const{gen:s,keyword:e,schema:t,parentSchema:r,$data:n,it:i}=a;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(i,o);var c=!n&&o.compile?o.compile.call(i.self,t,r,i):o.validate;const l=g(s,e,c),d=s.let("valid");function u(e=o.async?(0,f._)`await `:f.nil){var t=i.opts.passContext?m.default.this:m.default.self,r=!("compile"in o&&!n||!1===o.schema);s.assign(d,(0,f._)`${e}${(0,h.callValidateCode)(a,l,t,r)}`,o.modifying)}function p(e){var t;s.if((0,f.not)(null!==(t=o.valid)&&void 0!==t?t:d),e)}a.block$data(d,function(){if(!1===o.errors)u(),o.modifying&&v(a),p(()=>a.error());else{const e=(o.async?function(){const t=s.let("ruleErrs",null);return s.try(()=>u((0,f._)`await `),e=>s.assign(d,!1).if((0,f._)`${e} instanceof ${i.ValidationError}`,()=>s.assign(t,(0,f._)`${e}.errors`),()=>s.throw(e))),t}:function(){var e=(0,f._)`${l}.errors`;return s.assign(e,null),u(f.nil),e})();o.modifying&&v(a),p(()=>function(e,t){const r=e["gen"];r.if((0,f._)`Array.isArray(${t})`,()=>{r.assign(m.default.vErrors,(0,f._)`${m.default.vErrors} === null ? ${t} : ${m.default.vErrors}.concat(${t})`).assign(m.default.errors,(0,f._)`${m.default.vErrors}.length`),(0,y.extendErrors)(e)},()=>e.error())}(a,e))}}),a.ok(null!==(c=o.valid)&&void 0!==c?c:d)},r.validSchemaType=function(t,e,r=!1){return!e.length||e.some(e=>"array"===e?Array.isArray(t):"object"===e?t&&"object"==typeof t&&!Array.isArray(t):typeof t==e||r&&void 0===t)},r.validateKeywordUsage=function({schema:t,opts:e,self:r,errSchemaPath:a},o,s){if(Array.isArray(o.keyword)?!o.keyword.includes(s):o.keyword!==s)throw new Error("ajv implementation error");const n=o.dependencies;if(null!==n&&void 0!==n&&n.some(e=>!Object.prototype.hasOwnProperty.call(t,e)))throw new Error(`parent schema must have dependencies of ${s}: ${n.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[s])){o=`keyword "${s}" value is invalid at path "${a}": `+r.errorsText(o.validateSchema.errors);if("log"!==e.validateSchema)throw new Error(o);r.logger.error(o)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const p=e("../codegen"),f=e("../util");r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:o,errSchemaPath:s,topSchemaRef:n}){if(void 0!==t&&void 0!==a)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){var i=e.schema[t];return void 0===r?{schema:i,schemaPath:(0,p._)`${e.schemaPath}${(0,p.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,p._)`${e.schemaPath}${(0,p.getProperty)(t)}${(0,p.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,f.escapeFragment)(r)}`}}if(void 0===a)throw new Error('either "keyword" or "schema" must be passed');if(void 0===o||void 0===s||void 0===n)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:o,topSchemaRef:n,errSchemaPath:s}},r.extendSubschemaData=function(t,r,{dataProp:e,dataPropType:a,data:o,dataTypes:s,propertyName:n}){if(void 0!==o&&void 0!==e)throw new Error('both "data" and "dataProp" passed, only one allowed');const i=r["gen"];var c,l,d;function u(e){t.data=e,t.dataLevel=r.dataLevel+1,t.dataTypes=[],r.definedProperties=new Set,t.parentData=r.data,t.dataNames=[...r.dataNames,e]}void 0!==e&&({errorPath:c,dataPathArr:l,opts:d}=r,u(i.let("data",(0,p._)`${r.data}${(0,p.getProperty)(e)}`,!0)),t.errorPath=(0,p.str)`${c}${(0,f.getErrorPath)(e,a,d.jsPropertySyntax)}`,t.parentDataProperty=(0,p._)`${e}`,t.dataPathArr=[...l,t.parentDataProperty]),void 0!==o&&(u(o instanceof p.Name?o:i.let("data",o,!0)),void 0!==n&&(t.propertyName=n)),s&&(t.dataTypes=s)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:o,allErrors:s}){void 0!==a&&(e.compositeRule=a),void 0!==o&&(e.createErrors=o),void 0!==s&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}},{"../codegen":2,"../util":10}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var a=e("./compile/validate");Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var o=e("./compile/codegen");Object.defineProperty(r,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});var s=e("./runtime/validation_error");const n=e("./compile/ref_error"),i=e("./compile/rules"),l=e("./compile"),c=e("./compile/codegen"),d=e("./compile/resolve"),u=e("./compile/validate/dataType"),p=e("./compile/util"),f=e("./refs/data.json"),m=e("./runtime/uri"),h=(e,t)=>new RegExp(e,t);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},$={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class _{constructor(e={}){var t,r,a,o;this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...(s=e,r=s.strict,a=!0===(o=null===(n=s.code)||void 0===n?void 0:n.optimize)||void 0===o?1:o||0,o=null!==(n=null===(t=s.code)||void 0===t?void 0:t.regExp)&&void 0!==n?n:h,n=null!==(t=s.uriResolver)&&void 0!==t?t:m.default,{strictSchema:null===(t=null!==(t=s.strictSchema)&&void 0!==t?t:r)||void 0===t||t,strictNumbers:null===(t=null!==(t=s.strictNumbers)&&void 0!==t?t:r)||void 0===t||t,strictTypes:null!==(t=null!==(t=s.strictTypes)&&void 0!==t?t:r)&&void 0!==t?t:"log",strictTuples:null!==(t=null!==(t=s.strictTuples)&&void 0!==t?t:r)&&void 0!==t?t:"log",strictRequired:null!==(r=null!==(t=s.strictRequired)&&void 0!==t?t:r)&&void 0!==r&&r,code:s.code?{...s.code,optimize:a,regExp:o}:{optimize:a,regExp:o},loopRequired:null!==(o=s.loopRequired)&&void 0!==o?o:200,loopEnum:null!==(o=s.loopEnum)&&void 0!==o?o:200,meta:null===(o=s.meta)||void 0===o||o,messages:null===(o=s.messages)||void 0===o||o,inlineRefs:null===(o=s.inlineRefs)||void 0===o||o,schemaId:null!==(o=s.schemaId)&&void 0!==o?o:"$id",addUsedSchema:null===(o=s.addUsedSchema)||void 0===o||o,validateSchema:null===(o=s.validateSchema)||void 0===o||o,validateFormats:null===(o=s.validateFormats)||void 0===o||o,unicodeRegExp:null===(o=s.unicodeRegExp)||void 0===o||o,int32range:null===(s=s.int32range)||void 0===s||s,uriResolver:n})};var{es5:s,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:s,lines:n}),this.logger=function(e){if(!1===e)return E;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),w.call(this,g,e,"NOT SUPPORTED"),w.call(this,$,e,"DEPRECATED","warn"),this._metaOpts=function(){const e={...this.opts};for(const t of y)delete e[t];return e}.call(this),e.formats&&function(){for(const t in this.opts.formats){var e=this.opts.formats[t];e&&this.addFormat(t,e)}}.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&function(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){var{$data:e,meta:t,schemaId:r}=this.opts;let a=f;"id"===r&&(a={...f},a.id=a.$id,delete a.$id),t&&e&&this.addMetaSchema(a,a[r],!1)}defaultMeta(){var{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);t=r(t);return"$async"in r||(this.errors=r.errors),t}compile(e,t){t=this._addSchema(e,t);return t.validate||this._compileSchemaEnv(t)}compileAsync(e,r){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const a=this.opts["loadSchema"];return t.call(this,e,r);async function t(e,t){await o.call(this,e.$schema);t=this._addSchema(e,t);return t.validate||s.call(this,t)}async function o(e){e&&!this.getSchema(e)&&await t.call(this,{$ref:e},!0)}async function s(t){try{return this._compileSchemaEnv(t)}catch(e){if(!(e instanceof n.default))throw e;return function({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}.call(this,e),await async function(e){var t=await async function(e){var t=this._loading[e];if(t)return t;try{return await(this._loading[e]=a(e))}finally{delete this._loading[e]}}.call(this,e);this.refs[e]||await o.call(this,t.$schema);this.refs[e]||this.addSchema(t,e,r)}.call(this,e.missingSchema),s.call(this,t)}}}addSchema(e,t,r,a=this.opts.validateSchema){if(Array.isArray(e)){for(const n of e)this.addSchema(n,void 0,r,a);return this}let o;if("object"==typeof e){var s=this.opts["schemaId"];if(o=e[s],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${s} must be string`)}return t=(0,d.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,a,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),!(this.errors=null);e=this.validate(r,e);if(!e&&t){t="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(t);this.logger.error(t)}return e}getSchema(e){let t;for(;"string"==typeof(t=b.call(this,e));)e=t;if(void 0===t){var r=this.opts["schemaId"],r=new l.SchemaEnv({schema:{},schemaId:r});if(t=l.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=b.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":this._cache.delete(e);t=e[this.opts.schemaId];return t&&(t=(0,d.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(t=e,r=t.keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(!function(e,t){const r=this["RULES"];if((0,p.eachItem)(e,e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}.call(this,r,t),!t)return(0,p.eachItem)(r,e=>S.call(this,e)),this;!function(e){let t=e["metaSchema"];void 0!==t&&(e.$data&&this.opts.$data&&(t=k(t)),e.validateSchema=this.compile(t,!0))}.call(this,t);const a={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(r,0===a.type.length?e=>S.call(this,e,a):t=>a.type.forEach(e=>S.call(this,t,a,e))),this}getKeyword(e){e=this.RULES.all[e];return"object"==typeof e?e.definition:!!e}removeKeyword(t){const e=this["RULES"];delete e.keywords[t],delete e.all[t];for(const a of e.rules){var r=a.rules.findIndex(e=>e.keyword===t);0<=r&&a.rules.splice(r,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:r=", ",dataVar:t="data"}={}){return e&&0!==e.length?e.map(e=>`${t}${e.instancePath} ${e.message}`).reduce((e,t)=>e+r+t):"No errors"}$dataMetaSchema(t,e){var r=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(const s of e){let e=t;for(const n of s.split("/").slice(1))e=e[n];for(const i in r){var a,o=r[i];"object"==typeof o&&(a=o.definition["$data"],o=e[i],a&&o&&(e[i]=k(o)))}}return t}_removeAllSchemas(e,t){for(const a in e){var r=e[a];t&&!t.test(a)||("string"==typeof r?delete e[a]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[a]))}}_addSchema(e,t,r,a=this.opts.validateSchema,o=this.opts.addUsedSchema){let s;var n=this.opts["schemaId"];if("object"==typeof e)s=e[n];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(s||r);var c=d.getSchemaRefs.call(this,e,r);return i=new l.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:c}),this._cache.set(i.schema,i),o&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=i),a&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){var t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,a="error"){for(const s in e){var o=s;o in t&&this.logger[a](`${r}: option ${s}. ${e[o]}`)}}function b(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}(r.default=_).ValidationError=s.default,_.MissingRefError=n.default;const E={log(){},warn(){},error(){}};const P=/^[a-z_$][a-z0-9_$:-]*$/i;function S(e,t,r){var a=null==t?void 0:t.post;if(r&&a)throw new Error('keyword with "post" flag cannot have "type"');const o=this["RULES"];let s=a?o.post:o.rules.find(({type:e})=>e===r);s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[e]=!0,t&&(a={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}},t.before?function(e,t,r){var a=e.rules.findIndex(e=>e.keyword===r);0<=a?e.rules.splice(a,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null!==(t=t.implements)&&void 0!==t&&t.forEach(e=>this.addKeyword(e)))}const N={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function k(e){return{anyOf:[e,N]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(e,t,r){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("fast-deep-equal");a.code='require("ajv/dist/runtime/equal").default',r.default=a},{"fast-deep-equal":63}],22:[function(e,t,r){"use strict";function a(e){var t=e.length;let r=0,a=0,o;for(;a<t;)r++,o=e.charCodeAt(a++),55296<=o&&o<=56319&&a<t&&(o=e.charCodeAt(a),56320==(64512&o)&&a++);return r}Object.defineProperty(r,"__esModule",{value:!0}),(r.default=a).code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("uri-js");a.code='require("ajv/dist/runtime/uri").default',r.default=a},{"uri-js":65}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}r.default=a},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const l=e("../../compile/codegen"),d=e("../../compile/util");e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,l.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,l._)`{limit: ${e}}`},code(e){var{parentSchema:t,it:r}=e,t=t["items"];Array.isArray(t)?a(e,t):(0,d.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(r,e){const{gen:a,schema:t,data:o,keyword:s,it:n}=r;n.items=!0;const i=a.const("len",(0,l._)`${o}.length`);if(!1===t)r.setParams({len:e.length}),r.pass((0,l._)`${i} <= ${e.length}`);else if("object"==typeof t&&!(0,d.alwaysValidSchema)(n,t)){const c=a.var("valid",(0,l._)`${i} <= ${e.length}`);a.if((0,l.not)(c),()=>function(t){a.forRange("i",e.length,i,e=>{r.subschema({keyword:s,dataProp:e,dataPropType:d.Type.Num},t),n.allErrors||a.if((0,l.not)(t),()=>a.break())})}(c)),r.ok(c)}}r.validateAdditionalItems=a,r.default=e},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const m=e("../code"),h=e("../../compile/codegen"),y=e("../../compile/names"),v=e("../../compile/util");e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,h._)`{additionalProperty: ${e.additionalProperty}}`},code(a){const{gen:o,schema:r,parentSchema:s,data:t,errsCount:e,it:n}=a;if(!e)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=n;if(n.props=!0,"all"===c.removeAdditional||!(0,v.alwaysValidSchema)(n,r)){const p=(0,m.allSchemaProperties)(s.properties),f=(0,m.allSchemaProperties)(s.patternProperties);function l(e){o.code((0,h._)`delete ${t}[${e}]`)}function d(e){var t;{if(!("all"===c.removeAdditional||c.removeAdditional&&!1===r))return!1===r?(a.setParams({additionalProperty:e}),a.error(),void(i||o.break())):void("object"!=typeof r||(0,v.alwaysValidSchema)(n,r)||(t=o.name("valid"),"failing"===c.removeAdditional?(u(e,t,!1),o.if((0,h.not)(t),()=>{a.reset(),l(e)})):(u(e,t),i||o.if((0,h.not)(t),()=>o.break()))));l(e)}}function u(e,t,r){e={keyword:"additionalProperties",dataProp:e,dataPropType:v.Type.Str};!1===r&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,t)}o.forIn("key",t,e=>{p.length||f.length?o.if(function(t){let e;{var r;e=8<p.length?(r=(0,v.schemaRefOrVal)(n,s.properties,"properties"),(0,m.isOwnProperty)(o,r,t)):p.length?(0,h.or)(...p.map(e=>(0,h._)`${t} === ${e}`)):h.nil}f.length&&(e=(0,h.or)(e,...f.map(e=>(0,h._)`${(0,m.usePattern)(a,e)}.test(${t})`)));return(0,h.not)(e)}(e),()=>d(e)):d(e)}),a.ok((0,h._)`${e} === ${y.default.errors}`)}}};r.default=e},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/util");r.default={keyword:"allOf",schemaType:"array",code(r){const{gen:e,schema:t,it:a}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");const o=e.name("valid");t.forEach((e,t)=>{(0,s.alwaysValidSchema)(a,e)||(t=r.subschema({keyword:"allOf",schemaProp:t},o),r.ok(o),r.mergeEvaluated(t))})}}},{"../../compile/util":10}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e("../code").validateUnion,error:{message:"must match a schema in anyOf"}};r.default=e},{"../code":42}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const m=e("../../compile/codegen"),h=e("../../compile/util");e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,m.str)`must contain at least ${e} valid item(s)`:(0,m.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,m._)`{minContains: ${e}}`:(0,m._)`{minContains: ${e}, maxContains: ${t}}`},code(a){const{gen:o,schema:e,parentSchema:t,data:r,it:s}=a;let n,i;var{minContains:c,maxContains:l}=t;s.opts.next?(n=void 0===c?1:c,i=l):n=1;const d=o.const("len",(0,m._)`${r}.length`);if(a.setParams({min:n,max:i}),void 0!==i||0!==n){if(void 0!==i&&n>i)return(0,h.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void a.fail();if((0,h.alwaysValidSchema)(s,e)){let e=(0,m._)`${d} >= ${n}`;return void 0!==i&&(e=(0,m._)`${e} && ${d} <= ${i}`),void a.pass(e)}s.items=!0;const f=o.name("valid");function u(){const e=o.name("_valid"),t=o.let("count",0);p(e,()=>o.if(e,()=>function(e){o.code((0,m._)`${e}++`),void 0===i?o.if((0,m._)`${e} >= ${n}`,()=>o.assign(f,!0).break()):(o.if((0,m._)`${e} > ${i}`,()=>o.assign(f,!1).break()),1===n?o.assign(f,!0):o.if((0,m._)`${e} >= ${n}`,()=>o.assign(f,!0)))}(t)))}function p(t,r){o.forRange("i",0,d,e=>{a.subschema({keyword:"contains",dataProp:e,dataPropType:h.Type.Num,compositeRule:!0},t),r()})}void 0===i&&1===n?p(f,()=>o.if(f,()=>o.break())):0===n?(o.let(f,!0),void 0!==i&&o.if((0,m._)`${r}.length > 0`,u)):(o.let(f,!1),u()),a.result(f,()=>a.reset())}else(0,h.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored')}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const l=e("../../compile/codegen"),c=e("../../compile/util"),d=e("../code");r.error={message:({params:{property:e,depsCount:t,deps:r}})=>{t=1===t?"property":"properties";return(0,l.str)`must have ${t} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:a}})=>(0,l._)`{property: ${e},
    missingProperty: ${a},
    depsCount: ${t},
    deps: ${r}}`};e={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(e){var[t,r]=function({schema:e}){var t={},r={};for(const a in e)if("__proto__"!==a){const o=Array.isArray(e[a])?t:r;o[a]=e[a]}return[t,r]}(e);a(e,t),o(e,r)}};function a(t,e=t.schema){const{gen:r,data:a,it:o}=t;if(0!==Object.keys(e).length){var s,n=r.let("missing");for(const i in e){const c=e[i];0!==c.length&&(s=(0,d.propertyInData)(r,a,i,o.opts.ownProperties),t.setParams({property:i,depsCount:c.length,deps:c.join(", ")}),o.allErrors?r.if(s,()=>{for(const e of c)(0,d.checkReportMissingProp)(t,e)}):(r.if((0,l._)`${s} && (${(0,d.checkMissingProp)(t,c,n)})`),(0,d.reportMissingProp)(t,n),r.else()))}}}function o(t,e=t.schema){const{gen:r,data:a,keyword:o,it:s}=t,n=r.name("valid");for(const i in e)(0,c.alwaysValidSchema)(s,e[i])||(r.if((0,d.propertyInData)(r,a,i,s.opts.ownProperties),()=>{var e=t.subschema({keyword:o,schemaProp:i},n);t.mergeValidEvaluated(e,n)},()=>r.var(n,!0)),t.ok(n))}r.validatePropertyDeps=a,r.validateSchemaDeps=o,r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const d=e("../../compile/codegen"),u=e("../../compile/util");function p(e,t){t=e.schema[t];return void 0!==t&&!(0,u.alwaysValidSchema)(e,t)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,d.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,d._)`{failingKeyword: ${e.ifClause}}`},code(a){const{gen:o,parentSchema:e,it:t}=a;void 0===e.then&&void 0===e.else&&(0,u.checkStrictMode)(t,'"if" without "then" and "else" is ignored');var r,s=p(t,"then"),n=p(t,"else");if(s||n){const c=o.let("valid",!0),l=o.name("_valid");function i(t,r){return()=>{var e=a.subschema({keyword:t},l);o.assign(c,l),a.mergeValidEvaluated(e,c),r?o.assign(r,(0,d._)`${t}`):a.setParams({ifClause:t})}}r=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l),a.mergeEvaluated(r),a.reset(),s&&n?(n=o.let("ifClause"),a.setParams({ifClause:n}),o.if(l,i("then",n),i("else",n))):s?o.if(l,i("then")):o.if((0,d.not)(l),i("else")),a.pass(c,()=>a.error(!0))}}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./additionalItems"),o=e("./prefixItems"),s=e("./items"),n=e("./items2020"),i=e("./contains"),c=e("./dependencies"),l=e("./propertyNames"),d=e("./additionalProperties"),u=e("./properties"),p=e("./patternProperties"),f=e("./not"),m=e("./anyOf"),h=e("./oneOf"),y=e("./allOf"),v=e("./if"),g=e("./thenElse");r.default=function(e=!1){const t=[f.default,m.default,h.default,y.default,v.default,g.default,l.default,d.default,c.default,u.default,p.default];return e?t.push(o.default,n.default):t.push(a.default,s.default),t.push(i.default),t}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const d=e("../../compile/codegen"),u=e("../../compile/util"),a=e("../code");e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return o(e,"additionalItems",t);r.items=!0,(0,u.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function o(r,o,s=r.schema){const{gen:a,parentSchema:e,data:t,keyword:n,it:i}=r;!function(e){var{opts:t,errSchemaPath:r}=i,a=s.length,e=a===e.minItems&&(a===e.maxItems||!1===e[o]);t.strictTuples&&!e&&(r=`"${n}" is ${a}-tuple, but minItems or maxItems/${o} are not specified or different at path "${r}"`,(0,u.checkStrictMode)(i,r,t.strictTuples))}(e),i.opts.unevaluated&&s.length&&!0!==i.items&&(i.items=u.mergeEvaluated.items(a,s.length,i.items));const c=a.name("valid"),l=a.const("len",(0,d._)`${t}.length`);s.forEach((e,t)=>{(0,u.alwaysValidSchema)(i,e)||(a.if((0,d._)`${l} > ${t}`,()=>r.subschema({keyword:n,schemaProp:t,dataProp:t},c)),r.ok(c))})}r.validateTuple=o,r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("../../compile/codegen"),s=e("../../compile/util"),n=e("../code"),i=e("./additionalItems");r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:a}=e;var o=r["prefixItems"];a.items=!0,(0,s.alwaysValidSchema)(a,t)||(o?(0,i.validateAdditionalItems)(e,o):e.ok((0,n.validateArray)(e)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/util");r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;var o;(0,s.alwaysValidSchema)(a,r)?e.fail():(o=t.name("valid"),e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error()))},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const l=e("../../compile/codegen"),d=e("../../compile/util");e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,l._)`{passingSchemas: ${e.passing}}`},code(a){const{gen:o,schema:e,parentSchema:t,it:s}=a;if(!Array.isArray(e))throw new Error("ajv implementation error");if(!s.opts.discriminator||!t.discriminator){const r=e,n=o.let("valid",!1),i=o.let("passing",null),c=o.name("_valid");a.setParams({passing:i}),o.block(function(){r.forEach((e,t)=>{let r;(0,d.alwaysValidSchema)(s,e)?o.var(c,!0):r=a.subschema({keyword:"oneOf",schemaProp:t,compositeRule:!0},c),0<t&&o.if((0,l._)`${c} && ${n}`).assign(n,!1).assign(i,(0,l._)`[${i}, ${t}]`).else(),o.if(c,()=>{o.assign(n,!0),o.assign(i,t),r&&a.mergeEvaluated(r,l.Name)})})}),a.result(n,()=>a.reset(),()=>a.error(!0))}}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const f=e("../code"),m=e("../../compile/codegen"),h=e("../../compile/util"),y=e("../../compile/util");e={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:t,data:e,parentSchema:r,it:s}=a;var n=s["opts"];const i=(0,f.allSchemaProperties)(t),c=i.filter(e=>(0,h.alwaysValidSchema)(s,t[e]));if(0!==i.length&&(c.length!==i.length||s.opts.unevaluated&&!0!==s.props)){const d=n.strictSchema&&!n.allowMatchingProperties&&r.properties,u=o.name("valid");!0===s.props||s.props instanceof m.Name||(s.props=(0,y.evaluatedPropsToName)(o,s.props));const p=s["props"];function l(r){o.forIn("key",e,t=>{o.if((0,m._)`${(0,f.usePattern)(a,r)}.test(${t})`,()=>{var e=c.includes(r);e||a.subschema({keyword:"patternProperties",schemaProp:r,dataProp:t,dataPropType:y.Type.Str},u),s.opts.unevaluated&&!0!==p?o.assign((0,m._)`${p}[${t}]`,!0):e||s.allErrors||o.if((0,m.not)(u),()=>o.break())})})}!function(){for(const e of i)d&&function(e){for(const t in d)new RegExp(e).test(t)&&(0,h.checkStrictMode)(s,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}(e),s.allErrors?l(e):(o.var(u,!0),l(e),o.if(u))}()}}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./items");r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a.validateTuple)(e,"items")}},{"./items":33}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const f=e("../../compile/validate"),m=e("../code"),h=e("../../compile/util"),y=e("./additionalProperties");e={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:a,data:o,it:s}=t;"all"===s.opts.removeAdditional&&void 0===a.additionalProperties&&y.default.code(new f.KeywordCxt(s,y.default,"additionalProperties"));const n=(0,m.allSchemaProperties)(r);for(const d of n)s.definedProperties.add(d);s.opts.unevaluated&&n.length&&!0!==s.props&&(s.props=h.mergeEvaluated.props(e,(0,h.toHash)(n),s.props));var i,c=n.filter(e=>!(0,h.alwaysValidSchema)(s,r[e]));if(0!==c.length){const u=e.name("valid");for(const p of c)i=p,s.opts.useDefaults&&!s.compositeRule&&void 0!==r[i].default?l(p):(e.if((0,m.propertyInData)(e,o,p,s.opts.ownProperties)),l(p),s.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(u);function l(e){t.subschema({keyword:"properties",schemaProp:e,dataProp:e},u)}}}};r.default=e},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../../compile/util");r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,n._)`{propertyName: ${e.propertyName}}`},code(t){const{gen:r,schema:e,data:a,it:o}=t;if(!(0,i.alwaysValidSchema)(o,e)){const s=r.name("valid");r.forIn("key",a,e=>{t.setParams({propertyName:e}),t.subschema({keyword:"propertyNames",data:e,dataTypes:["string"],propertyName:e,compositeRule:!0},s),r.if((0,n.not)(s),()=>{t.error(!0),o.allErrors||r.break()})}),t.ok(s)}}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("../../compile/util");r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,a.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},{"../../compile/util":10}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const u=e("../compile/codegen"),c=e("../compile/util"),p=e("../compile/names"),n=e("../compile/util");function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,u._)`Object.prototype.hasOwnProperty`})}function s(e,t,r){return(0,u._)`${a(e)}.call(${t}, ${r})`}function i(e,t,r,a){var o=(0,u._)`${t}${(0,u.getProperty)(r)} === undefined`;return a?(0,u.or)(o,(0,u.not)(s(e,t,r))):o}function o(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}r.checkReportMissingProp=function(e,t){const{gen:r,data:a,it:o}=e;r.if(i(r,a,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,u._)`${t}`},!0),e.error()})},r.checkMissingProp=function({gen:t,data:r,it:{opts:a}},e,o){return(0,u.or)(...e.map(e=>(0,u.and)(i(t,r,e,a.ownProperties),(0,u._)`${o} = ${e}`)))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=a,r.isOwnProperty=s,r.propertyInData=function(e,t,r,a){var o=(0,u._)`${t}${(0,u.getProperty)(r)} !== undefined`;return a?(0,u._)`${o} && ${s(e,t,r)}`:o},r.noPropertyInData=i,r.allSchemaProperties=o,r.schemaProperties=function(t,r){return o(r).filter(e=>!(0,c.alwaysValidSchema)(t,r[e]))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:o,errorPath:s},it:n},i,c,l){t=l?(0,u._)`${e}, ${t}, ${a}${o}`:t;const d=[[p.default.instancePath,(0,u.strConcat)(p.default.instancePath,s)],[p.default.parentData,n.parentData],[p.default.parentDataProperty,n.parentDataProperty],[p.default.rootData,p.default.rootData]];return n.opts.dynamicRef&&d.push([p.default.dynamicAnchors,p.default.dynamicAnchors]),r=(0,u._)`${t}, ${r.object(...d)}`,c!==u.nil?(0,u._)`${i}.call(${c}, ${r})`:(0,u._)`${i}(${r})`};const l=(0,u._)`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){var a=t.unicodeRegExp?"u":"";const o=t.code["regExp"],s=o(r,a);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,u._)`${"new RegExp"===o.code?l:(0,n.useFunc)(e,o)}(${r}, ${a})`})},r.validateArray=function(r){const{gen:a,data:o,keyword:s,it:e}=r,n=a.name("valid");if(e.allErrors){const i=a.let("valid",!0);return t(()=>a.assign(i,!1)),i}return a.var(n,!0),t(()=>a.break()),n;function t(t){var e=a.const("len",(0,u._)`${o}.length`);a.forRange("i",0,e,e=>{r.subschema({keyword:s,dataProp:e,dataPropType:c.Type.Num},n),a.if((0,u.not)(n),t)})}},r.validateUnion=function(r){const{gen:a,schema:e,keyword:o,it:t}=r;if(!Array.isArray(e))throw new Error("ajv implementation error");if(!e.some(e=>(0,c.alwaysValidSchema)(t,e))||t.opts.unevaluated){const s=a.let("valid",!1),n=a.name("_valid");a.block(()=>e.forEach((e,t)=>{t=r.subschema({keyword:o,schemaProp:t,compositeRule:!0},n);a.assign(s,(0,u._)`${s} || ${n}`),r.mergeValidEvaluated(t,n)||a.if((0,u.not)(s))})),r.result(s,()=>r.reset(),()=>r.error(!0))}}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./id"),e=e("./ref"),e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",a.default,e.default];r.default=e},{"./id":43,"./ref":45}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const y=e("../../compile/ref_error"),p=e("../code"),v=e("../../compile/codegen"),f=e("../../compile/names"),g=e("../../compile"),m=e("../../compile/util");e={keyword:"$ref",schemaType:"string",code(t){const{gen:r,schema:e,it:a}=t,{baseId:o,schemaEnv:s,validateName:n,opts:i,self:c}=a,l=s["root"];if(("#"===e||"#/"===e)&&o===l.baseId)return function(){if(s===l)return _(t,n,s,s.$async);var e=r.scopeValue("root",{ref:l});return _(t,(0,v._)`${e}.validate`,l,l.$async)}();var d,u,p,f,m,h=g.resolveRef.call(c,l,o,e);if(void 0===h)throw new y.default(a.opts.uriResolver,o,e);return h instanceof g.SchemaEnv?(u=$(t,d=h),void _(t,u,d,d.$async)):(p=h,f=r.scopeValue("schema",!0===i.code.source?{ref:p,code:(0,v.stringify)(p)}:{ref:p}),m=r.name("valid"),f=t.subschema({schema:p,dataTypes:[],schemaPath:v.nil,topSchemaRef:f,errSchemaPath:e},m),t.mergeEvaluated(f),void t.ok(m))}};function $(e,t){const r=e["gen"];return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,v._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function _(e,r,a,t){const{gen:o,it:s}=e,{allErrors:n,schemaEnv:i,opts:c}=s,l=c.passContext?f.default.this:v.nil;function d(e){e=(0,v._)`${e}.errors`;o.assign(f.default.vErrors,(0,v._)`${f.default.vErrors} === null ? ${e} : ${f.default.vErrors}.concat(${e})`),o.assign(f.default.errors,(0,v._)`${f.default.vErrors}.length`)}function u(e){var t,r;s.opts.unevaluated&&(t=null===(r=null==a?void 0:a.validate)||void 0===r?void 0:r.evaluated,!0!==s.props&&(t&&!t.dynamicProps?void 0!==t.props&&(s.props=m.mergeEvaluated.props(o,t.props,s.props)):(r=o.var("props",(0,v._)`${e}.evaluated.props`),s.props=m.mergeEvaluated.props(o,r,s.props,v.Name))),!0!==s.items&&(t&&!t.dynamicItems?void 0!==t.items&&(s.items=m.mergeEvaluated.items(o,t.items,s.items)):(e=o.var("items",(0,v._)`${e}.evaluated.items`),s.items=m.mergeEvaluated.items(o,e,s.items,v.Name))))}t?function(){if(!i.$async)throw new Error("async schema referenced by sync schema");const t=o.let("valid");o.try(()=>{o.code((0,v._)`await ${(0,p.callValidateCode)(e,r,l)}`),u(r),n||o.assign(t,!0)},e=>{o.if((0,v._)`!(${e} instanceof ${s.ValidationError})`,()=>o.throw(e)),d(e),n||o.assign(t,!1)}),e.ok(t)}():e.result((0,p.callValidateCode)(e,r,l),()=>u(r),()=>d(r))}r.getValidate=$,r.callRef=_,r.default=e},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../discriminator/types"),p=e("../../compile"),f=e("../../compile/util");e={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,n._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(r){const{gen:a,data:e,schema:t,parentSchema:c,it:l}=r,d=c["oneOf"];if(!l.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=t.propertyName;if("string"!=typeof u)throw new Error("discriminator: requires propertyName");if(t.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const o=a.let("valid",!1),s=a.const("tag",(0,n._)`${e}${(0,n.getProperty)(u)}`);a.if((0,n._)`typeof ${s} == "string"`,()=>function(){var e=function(){const r={},a=n(c);let o=!0;for(let t=0;t<d.length;t++){let e=d[t];null!==e&&void 0!==e&&e.$ref&&!(0,f.schemaHasRulesButRef)(e,l.self.RULES)&&(e=p.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,null===e||void 0===e?void 0:e.$ref),e instanceof p.SchemaEnv&&(e=e.schema));var s=null===(s=null===e||void 0===e?void 0:e.properties)||void 0===s?void 0:s[u];if("object"!=typeof s)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);o=o&&(a||n(e)),function(e,t){if(e.const)i(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`);for(const r of e.enum)i(r,t)}}(s,t)}if(!o)throw new Error(`discriminator: "${u}" must be required`);return r;function n({required:e}){return Array.isArray(e)&&e.includes(u)}function i(e,t){if("string"!=typeof e||e in r)throw new Error(`discriminator: "${u}" values must be unique strings`);r[e]=t}}();a.if(!1);for(const t in e)a.elseIf((0,n._)`${s} === ${t}`),a.assign(o,function(e){var t=a.name("valid"),e=r.subschema({keyword:"oneOf",schemaProp:e},t);return r.mergeEvaluated(e,n.Name),t}(e[t]));a.else(),r.error(!1,{discrError:i.DiscrError.Mapping,tag:s,tagName:u}),a.endIf()}(),()=>r.error(!1,{discrError:i.DiscrError.Tag,tag:s,tagName:u})),r.ok(o)}};r.default=e},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,(r=r.DiscrError||(r.DiscrError={})).Tag="tag",r.Mapping="mapping"},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./core"),o=e("./validation");const s=e("./applicator");var n=e("./format"),e=e("./metadata"),e=[a.default,o.default,(0,s.default)(),n.default,e.metadataVocabulary,e.contentVocabulary];r.default=e},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const m=e("../../compile/codegen");e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,m.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,m._)`{format: ${e}}`},code(o,s){const{gen:n,data:i,$data:e,schema:c,schemaCode:l,it:t}=o,{opts:d,errSchemaPath:u,schemaEnv:p,self:f}=t;d.validateFormats&&(e?function(){const e=n.scopeValue("formats",{ref:f.formats,code:d.code.formats}),t=n.const("fDef",(0,m._)`${e}[${l}]`),r=n.let("fType"),a=n.let("format");n.if((0,m._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>n.assign(r,(0,m._)`${t}.type || "string"`).assign(a,(0,m._)`${t}.validate`),()=>n.assign(r,(0,m._)`"string"`).assign(a,t)),o.fail$data((0,m.or)(!1===d.strictSchema?m.nil:(0,m._)`${l} && !${a}`,function(){var e=p.$async?(0,m._)`(${t}.async ? await ${a}(${i}) : ${a}(${i}))`:(0,m._)`${a}(${i})`,e=(0,m._)`(typeof ${a} == "function" ? ${e} : ${a}.test(${i}))`;return(0,m._)`${a} && ${a} !== true && ${r} === ${s} && !${e}`}()))}:function(){const e=f.formats[c];if(e){if(!0!==e){const[t,r,a]=function(e){var t=e instanceof RegExp?(0,m.regexpCode)(e):d.code.formats?(0,m._)`${d.code.formats}${(0,m.getProperty)(c)}`:void 0,t=n.scopeValue("formats",{key:c,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,t]:[e.type||"string",e.validate,(0,m._)`${t}.validate`]}(e);t===s&&o.pass(function(){if("object"!=typeof e||e instanceof RegExp||!e.async)return"function"==typeof r?(0,m._)`${a}(${i})`:(0,m._)`${a}.test(${i})`;if(!p.$async)throw new Error("async format in sync schema");return(0,m._)`await ${a}(${i})`}())}}else!function(){if(!1!==d.strictSchema)throw new Error(e());function e(){return`unknown format "${c}" ignored in schema at path "${u}"`}f.logger.warn(e())}()})()}};r.default=e},{"../../compile/codegen":2}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=[e("./format").default];r.default=e},{"./format":49}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../../compile/util"),c=e("../../runtime/equal");r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,n._)`{allowedValue: ${e}}`},code(e){var{gen:t,data:r,$data:a,schemaCode:o,schema:s}=e;a||s&&"object"==typeof s?e.fail$data((0,n._)`!${(0,i.useFunc)(t,c.default)}(${r}, ${o})`):e.fail((0,n._)`${s} !== ${r}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const p=e("../../compile/codegen"),f=e("../../compile/util"),m=e("../../runtime/equal");e={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,p._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:a,$data:r,schema:o,schemaCode:s,it:n}=e;if(!r&&0===o.length)throw new Error("enum must have non-empty array");var i=o.length>=n.opts.loopEnum;let c;const l=()=>null!==c&&void 0!==c?c:c=(0,f.useFunc)(t,m.default);let d;if(i||r)d=t.let("valid"),e.block$data(d,function(){t.assign(d,!1),t.forOf("v",s,e=>t.if((0,p._)`${l()}(${a}, ${e})`,()=>t.assign(d,!0).break()))});else{if(!Array.isArray(o))throw new Error("ajv implementation error");const u=t.const("vSchema",s);d=(0,p.or)(...o.map((e,t)=>function(e,t){var r=o[t];return"object"==typeof r&&null!==r?(0,p._)`${l()}(${a}, ${e}[${t}])`:(0,p._)`${a} === ${r}`}(u,t)))}e.pass(d)}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./limitNumber"),o=e("./multipleOf"),s=e("./limitLength"),n=e("./pattern"),i=e("./limitProperties"),c=e("./required"),l=e("./limitItems"),d=e("./uniqueItems"),u=e("./const"),e=e("./enum"),e=[a.default,o.default,s.default,n.default,i.default,c.default,l.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,e.default];r.default=e},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/codegen");r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxItems"===e?"more":"fewer";return(0,o.str)`must NOT have ${e} than ${t} items`},params:({schemaCode:e})=>(0,o._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a}=e,t="maxItems"===t?o.operators.GT:o.operators.LT;e.fail$data((0,o._)`${r}.length ${t} ${a}`)}}},{"../../compile/codegen":2}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/codegen"),n=e("../../compile/util"),i=e("../../runtime/ucs2length");r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxLength"===e?"more":"fewer";return(0,s.str)`must NOT have ${e} than ${t} characters`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a,it:o}=e,t="maxLength"===t?s.operators.GT:s.operators.LT,r=!1===o.opts.unicode?(0,s._)`${r}.length`:(0,s._)`${(0,n.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,s._)`${r} ${t} ${a}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/codegen");e=o.operators;const s={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}};e={message:({keyword:e,schemaCode:t})=>(0,o.str)`must be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,o._)`{comparison: ${s[e].okStr}, limit: ${t}}`},e={keyword:Object.keys(s),type:"number",schemaType:"number",$data:!0,error:e,code(e){var{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,o._)`${r} ${s[t].fail} ${a} || isNaN(${r})`)}};r.default=e},{"../../compile/codegen":2}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/codegen");r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxProperties"===e?"more":"fewer";return(0,o.str)`must NOT have ${e} than ${t} properties`},params:({schemaCode:e})=>(0,o._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a}=e,t="maxProperties"===t?o.operators.GT:o.operators.LT;e.fail$data((0,o._)`Object.keys(${r}).length ${t} ${a}`)}}},{"../../compile/codegen":2}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=e("../../compile/codegen");r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,i.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,i._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:a,it:o}=e;var s=o.opts.multipleOfPrecision,n=t.let("res"),s=s?(0,i._)`Math.abs(Math.round(${n}) - ${n}) > 1e-${s}`:(0,i._)`${n} !== parseInt(${n})`;e.fail$data((0,i._)`(${a} === 0 || (${n} = ${r}/${a}, ${s}))`)}}},{"../../compile/codegen":2}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../code"),i=e("../../compile/codegen");r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,i.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,i._)`{pattern: ${e}}`},code(e){var{data:t,$data:r,schema:a,schemaCode:o,it:s}=e,s=s.opts.unicodeRegExp?"u":"",a=r?(0,i._)`(new RegExp(${o}, ${s}))`:(0,n.usePattern)(e,a);e.fail$data((0,i._)`!${a}.test(${t})`)}}},{"../../compile/codegen":2,"../code":42}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const m=e("../code"),h=e("../../compile/codegen"),y=e("../../compile/util");e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,h.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,h._)`{missingProperty: ${e}}`},code(r){const{gen:a,schema:o,schemaCode:s,data:n,$data:i,it:e}=r,c=e["opts"];if(i||0!==o.length){const u=o.length>=c.loopRequired;if((e.allErrors?function(){if(u||i)r.block$data(h.nil,d);else for(const e of o)(0,m.checkReportMissingProp)(r,e)}:function(){const e=a.let("missing");if(u||i){const t=a.let("valid",!0);r.block$data(t,()=>function(e,t){r.setParams({missingProperty:e}),a.forOf(e,s,()=>{a.assign(t,(0,m.propertyInData)(a,n,e,c.ownProperties)),a.if((0,h.not)(t),()=>{r.error(),a.break()})},h.nil)}(e,t)),r.ok(t)}else a.if((0,m.checkMissingProp)(r,o,e)),(0,m.reportMissingProp)(r,e),a.else()})(),c.strictRequired){var t,l=r.parentSchema.properties;const p=r.it["definedProperties"];for(const f of o)void 0!==(null==l?void 0:l[f])||p.has(f)||(t=e.schemaEnv.baseId+e.errSchemaPath,t=`required property "${f}" is not defined at "${t}" (strictRequired)`,(0,y.checkStrictMode)(e,t,e.opts.strictRequired))}function d(){a.forOf("prop",s,e=>{r.setParams({missingProperty:e}),a.if((0,m.noPropertyInData)(a,n,e,c.ownProperties),()=>r.error())})}}}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const u=e("../../compile/validate/dataType"),p=e("../../compile/codegen"),o=e("../../compile/util"),f=e("../../runtime/equal");e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,p.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,p._)`{i: ${e}, j: ${t}}`},code(s){const{gen:n,data:i,$data:e,schema:t,parentSchema:r,schemaCode:a,it:c}=s;if(e||t){const l=n.let("valid"),d=r.items?(0,u.getSchemaTypes)(r.items):[];s.block$data(l,function(){const e=n.let("i",(0,p._)`${i}.length`),t=n.let("j");s.setParams({i:e,j:t}),n.assign(l,!0),n.if((0,p._)`${e} > 1`,()=>(function(){return 0<d.length&&!d.some(e=>"object"===e||"array"===e)}()?function(e,t){const r=n.name("item"),a=(0,u.checkDataTypes)(d,r,c.opts.strictNumbers,u.DataType.Wrong),o=n.const("indices",(0,p._)`{}`);n.for((0,p._)`;${e}--;`,()=>{n.let(r,(0,p._)`${i}[${e}]`),n.if(a,(0,p._)`continue`),1<d.length&&n.if((0,p._)`typeof ${r} == "string"`,(0,p._)`${r} += "_"`),n.if((0,p._)`typeof ${o}[${r}] == "number"`,()=>{n.assign(t,(0,p._)`${o}[${r}]`),s.error(),n.assign(l,!1).break()}).code((0,p._)`${o}[${r}] = ${e}`)})}:function(e,t){const r=(0,o.useFunc)(n,f.default),a=n.name("outer");n.label(a).for((0,p._)`;${e}--;`,()=>n.for((0,p._)`${t} = ${e}; ${t}--;`,()=>n.if((0,p._)`${r}(${i}[${e}], ${i}[${t}])`,()=>{s.error(),n.assign(l,!1).break(a)})))})(e,t))},(0,p._)`${a} === false`),s.ok(l)}}};r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(e,t,r){"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,o,s;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(o=a;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=a;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=a;0!=o--;){var n=s[o];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},{}],64:[function(e,t,r){"use strict";var h=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,a,o,s,n,i,c,l,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var u in r(o,s,n,i,c,l,d),o){var p=o[u];if(Array.isArray(p)){if(u in h.arrayKeywords)for(var f=0;f<p.length;f++)e(t,r,a,p[f],s+"/"+u+"/"+f,n,s,u,o,f)}else if(u in h.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(t,r,a,p[m],s+"/"+u+"/"+y(m),n,s,u,o,m)}else(u in h.keywords||t.allKeys&&!(u in h.skipKeywords))&&e(t,r,a,p,s+"/"+u,n,s,u,o)}a(o,s,n,i,c,l,d)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function y(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}h.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},h.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},h.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},h.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(e,t,r){var a;a=this,function(e){"use strict";function S(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1<t.length){t[0]=t[0].slice(0,-1);for(var a=t.length-1,o=1;o<a;++o)t[o]=t[o].slice(1,-1);return t[a]=t[a].slice(1),t.join("")}return t[0]}function N(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function f(e){return e.toUpperCase()}function t(e){var t="[A-Za-z]",r="[0-9]",a=S(r,"[A-Fa-f]"),o=N(N("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+N("%[89A-Fa-f]"+a+"%"+a+a)+"|"+N("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",n=S("[\\:\\/\\?\\#\\[\\]\\@]",s),i=e?"[\\uE000-\\uF8FF]":"[]",c=S(t,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=N(t+S(t,r,"[\\+\\-\\.]")+"*"),d=N(N(o+"|"+S(c,s,"[\\:]"))+"*"),u=N("(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9][0-9])|(?:0?[1-9][0-9])|0?0?"+r),p=N(u+"\\."+u+"\\."+u+"\\."+u),f=N(a+"{1,4}"),m=N(N(f+"\\:"+f)+"|"+p),h=N(N(f+"\\:")+"{6}"+m),y=N("\\:\\:"+N(f+"\\:")+"{5}"+m),v=N(N(f)+"?\\:\\:"+N(f+"\\:")+"{4}"+m),g=N(N(N(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+N(f+"\\:")+"{3}"+m),$=N(N(N(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+N(f+"\\:")+"{2}"+m),_=N(N(N(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+m),w=N(N(N(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+m),b=N(N(N(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),E=N(N(N(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),P=N([h,y,v,g,$,_,w,b,E].join("|")),e=N(N(c+"|"+o)+"+"),u=N(P+N("\\%25|\\%(?!"+a+"{2})")+e),m=N("[vV]"+a+"+\\."+S(c,s,"[\\:]")+"+"),f=N("\\["+N(u+"|"+P+"|"+m)+"\\]"),h=N(N(o+"|"+S(c,s))+"*"),y=N(f+"|"+p+"(?!"+h+")|"+h),v=N(r+"*"),g=N(N(d+"@")+"?"+y+N("\\:"+v)+"?"),$=N(o+"|"+S(c,s,"[\\:\\@]")),_=N($+"*"),w=N($+"+"),b=N(N(o+"|"+S(c,s,"[\\@]"))+"+"),E=N(N("\\/"+_)+"*"),u=N("\\/"+N(w+E)+"?"),m=N(b+E),f=N(w+E),h="(?!"+$+")",_=N(N($+"|"+S("[\\/\\?]",i))+"*"),b=N(N($+"|[\\/\\?]")+"*"),w=N(N("\\/\\/"+g+E)+"|"+u+"|"+f+"|"+h),$=N(l+"\\:"+w+N("\\?"+_)+"?"+N("\\#"+b)+"?"),g=N(N("\\/\\/"+g+E)+"|"+u+"|"+m+"|"+h),g=N(g+N("\\?"+_)+"?"+N("\\#"+b)+"?");N(l+"\\:"+w+N("\\?"+_)+"?"),N(N("\\/\\/("+N("("+d+")@")+"?("+y+")"+N("\\:("+v+")")+"?)")+"?("+E+"|"+u+"|"+f+"|"+h+")"),N(N("\\/\\/("+N("("+d+")@")+"?("+y+")"+N("\\:("+v+")")+"?)")+"?("+E+"|"+u+"|"+m+"|"+h+")"),N(N("\\/\\/("+N("("+d+")@")+"?("+y+")"+N("\\:("+v+")")+"?)")+"?("+E+"|"+u+"|"+f+"|"+h+")");return{NOT_SCHEME:new RegExp(S("[^]",t,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(S("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(S("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(S("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(S("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(S("[^\\%]",c,s,"[\\:\\@\\/\\?]",i),"g"),NOT_FRAGMENT:new RegExp(S("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(S("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(S("[^\\%]",c,n),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+N(N("\\%25|\\%(?!"+a+"{2})")+"("+e+")")+"?\\]?$")}}var i=t(!1),c=t(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,o=!1,s=void 0;try{for(var n,i=e[Symbol.iterator]();!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=2147483647,T=36,I=26,o=38,s=700,r=/^xn--/,n=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=T-1,R=Math.floor,D=String.fromCharCode;function A(e){throw new RangeError(d[e])}function m(e,t){var r=e.split("@"),a="";return 1<r.length&&(a=r[0]+"@",e=r[1]),a+function(e,t){for(var r=[],a=e.length;a--;)r[a]=t(e[a]);return r}((e=e.replace(l,".")).split("."),t).join(".")}function M(e){for(var t=[],r=0,a=e.length;r<a;){var o,s=e.charCodeAt(r++);55296<=s&&s<=56319&&r<a?56320==(64512&(o=e.charCodeAt(r++)))?t.push(((1023&s)<<10)+(1023&o)+65536):(t.push(s),r--):t.push(s)}return t}function V(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function F(e,t,r){var a=0;for(e=r?R(e/s):e>>1,e+=R(e/t);p*I>>1<e;a+=T)e=R(e/p);return R(a+(p+1)*e/(e+o))}function h(e){var t=[],r=e.length,a=0,o=128,s=72,n=e.lastIndexOf("-");n<0&&(n=0);for(var i=0;i<n;++i)128<=e.charCodeAt(i)&&A("not-basic"),t.push(e.charCodeAt(i));for(var c=0<n?n+1:0;c<r;){for(var l=a,d=1,u=T;;u+=T){r<=c&&A("invalid-input");var p=(f=e.charCodeAt(c++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:T;(T<=p||p>R((x-a)/d))&&A("overflow"),a+=p*d;var f=u<=s?1:s+I<=u?I:u-s;if(p<f)break;f=T-f;d>R(x/f)&&A("overflow"),d*=f}var m=t.length+1,s=F(a-l,m,0==l);R(a/m)>x-o&&A("overflow"),o+=R(a/m),a%=m,t.splice(a++,0,o)}return String.fromCodePoint.apply(String,t)}function y(e){var t=[],r=(e=M(e)).length,a=128,o=0,s=72,n=!0,i=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var u=l.value;u<128&&t.push(D(u))}}catch(e){i=!0,c=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw c}}var p=t.length,f=p;for(p&&t.push("-");f<r;){var m=x,h=!0,y=!1,v=void 0;try{for(var g,$=e[Symbol.iterator]();!(h=(g=$.next()).done);h=!0){var _=g.value;a<=_&&_<m&&(m=_)}}catch(e){y=!0,v=e}finally{try{!h&&$.return&&$.return()}finally{if(y)throw v}}var w=f+1;m-a>R((x-o)/w)&&A("overflow"),o+=(m-a)*w;var a=m,b=!0,y=!1,v=void 0;try{for(var E,P=e[Symbol.iterator]();!(b=(E=P.next()).done);b=!0){var S=E.value;if(S<a&&++o>x&&A("overflow"),S==a){for(var N=o,k=T;;k+=T){var j=k<=s?1:s+I<=k?I:k-s;if(N<j)break;var C=N-j,O=T-j;t.push(D(V(j+C%O,0))),N=R(C/O)}t.push(D(V(N,0))),s=F(o,w,f==p),o=0,++f}}}catch(e){y=!0,v=e}finally{try{!b&&P.return&&P.return()}finally{if(y)throw v}}++o,++a}return t.join("")}var v=function(e){return m(e,function(e){return n.test(e)?"xn--"+y(e):e})},g=function(e){return m(e,function(e){return r.test(e)?h(e.slice(4).toLowerCase()):e})},$={};function _(e){e=e.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function w(e){for(var t="",r=0,a=e.length;r<a;){var o,s,n=parseInt(e.substr(r+1,2),16);n<128?(t+=String.fromCharCode(n),r+=3):194<=n&&n<224?(6<=a-r?(s=parseInt(e.substr(r+4,2),16),t+=String.fromCharCode((31&n)<<6|63&s)):t+=e.substr(r,6),r+=6):224<=n?(9<=a-r?(o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16),t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&s)):t+=e.substr(r,9),r+=9):(t+=e.substr(r,3),r+=3)}return t}function b(e,r){function t(e){var t=w(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,_).replace(r.PCT_ENCODED,f)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,_).replace(r.PCT_ENCODED,f)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,_).replace(r.PCT_ENCODED,f)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,_).replace(r.PCT_ENCODED,f)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,_).replace(r.PCT_ENCODED,f)),e}function E(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){t=e.match(t.IPV4ADDRESS)||[],t=u(t,2)[1];return t?t.split(".").map(E).join("."):e}function k(e,t){var r=e.match(t.IPV6ADDRESS)||[],a=u(r,3),o=a[1],r=a[2];if(o){for(var a=o.toLowerCase().split("::").reverse(),o=u(a,2),a=o[0],o=o[1],s=o?o.split(":").map(E):[],n=a.split(":").map(E),o=t.IPV4ADDRESS.test(n[n.length-1]),i=o?7:8,c=n.length-i,l=Array(i),d=0;d<i;++d)l[d]=s[d]||n[c+d]||"";o&&(l[i-1]=P(l[i-1],t));a=l.reduce(function(e,t,r){return t&&"0"!==t||((t=e[e.length-1])&&t.index+t.length===r?t.length++:e.push({index:r,length:1})),e},[]).sort(function(e,t){return t.length-e.length})[0],o=void 0;return o=a&&1<a.length?(t=l.slice(0,a.index),a=l.slice(a.index+a.length),t.join(":")+"::"+a.join(":")):l.join(":"),r&&(o+="%"+r),o}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,C=void 0==="".match(/(){0}/)[1];function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={},a=!1!==t.iri?c:i,o=(e="suffix"===t.reference?(t.scheme?t.scheme+":":"")+"//"+e:e).match(j);if(o){C?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=k(P(r.host,a),a)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");o=$[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)b(r,a);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=v(r.host.replace(a.PCT_ENCODED,w).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}b(r,i)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var q=/^\.\.?\//,U=/^\/\.(\/|$)/,z=/^\/\.\.(\/|$)/,K=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(q))e=e.replace(q,"");else if(e.match(U))e=e.replace(U,"/");else if(e.match(z))e=e.replace(z,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(K);if(!r)throw new Error("Unexpected dot segment condition");r=r[0];e=e.slice(r.length),t.push(r)}return t.join("")}function H(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=r.iri?c:i,a=[],o=$[(r.scheme||t.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(t,r),t.host&&!e.IPV6ADDRESS.test(t.host)&&(r.domainHost||o&&o.domainHost))try{t.host=r.iri?g(t.host):v(t.host.replace(e.PCT_ENCODED,w).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}b(t,e),"suffix"!==r.reference&&t.scheme&&(a.push(t.scheme),a.push(":"));var s,n,s=(s=t,e=!1!==(n=r).iri?c:i,n=[],void 0!==s.userinfo&&(n.push(s.userinfo),n.push("@")),void 0!==s.host&&n.push(k(P(String(s.host),e),e).replace(e.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),"number"!=typeof s.port&&"string"!=typeof s.port||(n.push(":"),n.push(String(s.port))),n.length?n.join(""):void 0);return void 0!==s&&("suffix"!==r.reference&&a.push("//"),a.push(s),t.path&&"/"!==t.path.charAt(0)&&a.push("/")),void 0!==t.path&&(n=t.path,r.absolutePath||o&&o.absolutePath||(n=L(n)),void 0===s&&(n=n.replace(/^\/\//,"/%2F")),a.push(n)),void 0!==t.query&&(a.push("?"),a.push(t.query)),void 0!==t.fragment&&(a.push("#"),a.push(t.fragment)),a.join("")}function G(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=O(H(e,r),r),t=O(H(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=L(t.path||""),a.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=L(t.path||""),a.query=t.query):(t.path?("/"===t.path.charAt(0)?a.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path:a.path="/"+t.path,a.path=L(a.path)),a.query=t.query):(a.path=e.path,void 0!==t.query?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function J(e,t){return e&&e.toString().replace((t&&t.iri?c:i).PCT_ENCODED,w)}var B={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize};function Q(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Z={scheme:"ws",domainHost:!0,parse:function(e,t){return e.secure=Q(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e,t){var r,a;return e.port!==(Q(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName&&(r=e.resourceName.split("?"),r=(a=u(r,2))[0],a=a[1],e.path=r&&"/"!==r?r:void 0,e.query=a,e.resourceName=void 0),e.fragment=void 0,e}},Y={scheme:"wss",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize},X={},ee="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",te="[0-9A-Fa-f]",re=(N(N("%[EFef]"+te+"%"+te+te+"%"+te+te)+"|"+N("%[89A-Fa-f]"+te+"%"+te+te)+"|"+N("%"+te+te)),S("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]')),ae=new RegExp(ee,"g"),oe=new RegExp("(?:(?:%[EFef][0-9A-Fa-f]%[0-9A-Fa-f][0-9A-Fa-f]%[0-9A-Fa-f][0-9A-Fa-f])|(?:%[89A-Fa-f][0-9A-Fa-f]%[0-9A-Fa-f][0-9A-Fa-f])|(?:%[0-9A-Fa-f][0-9A-Fa-f]))","g"),se=new RegExp(S("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',re),"g"),ne=new RegExp(S("[^]",ee,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ne;function ce(e){var t=w(e);return t.match(ae)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,a=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var o=!1,s={},n=r.query.split("&"),i=0,c=n.length;i<c;++i){var l=n[i].split("=");switch(l[0]){case"to":for(var d=l[1].split(","),u=0,p=d.length;u<p;++u)a.push(d[u]);break;case"subject":r.subject=J(l[1],t);break;case"body":r.body=J(l[1],t);break;default:o=!0,s[J(l[0],t)]=J(l[1],t)}}o&&(r.headers=s)}r.query=void 0;for(var f=0,m=a.length;f<m;++f){var h=a[f].split("@");if(h[0]=J(h[0]),t.unicodeSupport)h[1]=J(h[1],t).toLowerCase();else try{h[1]=v(J(h[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[f]=h.join("@")}return r},serialize:function(e,t){var r,a=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var s=0,n=o.length;s<n;++s){var i=String(o[s]),c=i.lastIndexOf("@"),l=i.slice(0,c).replace(oe,ce).replace(oe,f).replace(se,_),c=i.slice(c+1);try{c=t.iri?g(c):v(J(c,t).toLowerCase())}catch(e){a.error=a.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=l+"@"+c}a.path=o.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var u,p=[];for(u in d)d[u]!==X[u]&&p.push(u.replace(oe,ce).replace(oe,f).replace(ne,_)+"="+d[u].replace(oe,ce).replace(oe,f).replace(ie,_));return p.length&&(a.query=p.join("&")),a}},le=/^([^\:]+)\:(.*)/,re={scheme:"urn",parse:function(e,t){var r,a=e.path&&e.path.match(le),o=e;return a?(r=t.scheme||o.scheme||"urn",e=a[1].toLowerCase(),a=a[2],r=r+":"+(t.nid||e),r=$[r],o.nid=e,o.nss=a,o.path=void 0,r&&(o=r.parse(o,t))):o.error=o.error||"URN can not be parsed.",o},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",a=e.nid,r=r+":"+(t.nid||a),r=$[r],r=e=r?r.serialize(e,t):e,e=e.nss;return r.path=(a||t.nid)+":"+e,r}},de=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ee={scheme:"urn:uuid",parse:function(e,t){return e.uuid=e.nss,e.nss=void 0,t.tolerant||e.uuid&&e.uuid.match(de)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};$[B.scheme]=B,$[W.scheme]=W,$[Z.scheme]=Z,$[Y.scheme]=Y,$[te.scheme]=te,$[re.scheme]=re,$[ee.scheme]=ee,e.SCHEMES=$,e.pctEncChar=_,e.pctDecChars=w,e.parse=O,e.removeDotSegments=L,e.serialize=H,e.resolveComponents=G,e.resolve=function(e,t,r){return r=function(e,t){var r=e;if(t)for(var a in t)r[a]=t[a];return r}({scheme:"null"},r),H(G(O(e,r),O(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=H(O(e,t),t):"object"===a(e)&&(e=O(H(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=H(O(e,r),r):"object"===a(e)&&(e=H(e,r)),"string"==typeof t?t=H(O(t,r),r):"object"===a(t)&&(t=H(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace((t&&t.iri?c:i).ESCAPE,_)},e.unescapeComponent=J,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof r&&void 0!==t?r:a.URI=a.URI||{})},{}],ajv:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var a=e("./core");const o=e("./vocabularies/draft7"),s=e("./vocabularies/discriminator"),n=e("./refs/json-schema-draft-07.json"),i=["/properties"],c="http://json-schema.org/draft-07/schema";class l extends a.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){var e;super._addDefaultMetaSchema(),this.opts.meta&&(e=this.opts.$data?this.$dataMetaSchema(n,i):n,this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.exports=r=l,Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;var d=e("./compile/validate");Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=e("./compile/codegen");Object.defineProperty(r,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})},{"./compile/codegen":2,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv")});